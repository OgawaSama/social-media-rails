!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).CropperUtils={})}(this,(function(e){"use strict";const t="undefined"!=typeof window&&void 0!==window.document,n=t?window:{},o=!!t&&"ontouchstart"in n.document.documentElement,r=!!t&&"PointerEvent"in n,i="cropper",c=`${i}-canvas`,s=`${i}-crosshair`,E=`${i}-grid`,u=`${i}-handle`,a=`${i}-image`,T=`${i}-selection`,O=`${i}-shade`,f=`${i}-viewer`,N=o?"touchend touchcancel":"mouseup",_=o?"touchmove":"mousemove",d=o?"touchstart":"mousedown",R=r?"pointerdown":d,l=r?"pointermove":_,p=r?"pointerup pointercancel":N;const C=Number.isNaN||n.isNaN;function I(e){return"number"==typeof e&&!C(e)}function A(e){return I(e)&&e>0&&e<1/0}function m(e){return"object"==typeof e&&null!==e}const{hasOwnProperty:S}=Object.prototype;function g(e){return"object"==typeof e&&null!==e&&1===e.nodeType}const h=/([a-z\d])([A-Z])/g;const P=/-[A-z\d]/g;const b=/\s\s*/;function V(e,t,n,o){t.trim().split(b).forEach((t=>{e.addEventListener(t,n,o)}))}const w={bubbles:!0,cancelable:!0,composed:!0};const y=Promise.resolve();const v=/deg|g?rad|turn$/i;const H="contain";e.ACTION_MOVE="move",e.ACTION_NONE="none",e.ACTION_RESIZE_EAST="e-resize",e.ACTION_RESIZE_NORTH="n-resize",e.ACTION_RESIZE_NORTHEAST="ne-resize",e.ACTION_RESIZE_NORTHWEST="nw-resize",e.ACTION_RESIZE_SOUTH="s-resize",e.ACTION_RESIZE_SOUTHEAST="se-resize",e.ACTION_RESIZE_SOUTHWEST="sw-resize",e.ACTION_RESIZE_WEST="w-resize",e.ACTION_ROTATE="rotate",e.ACTION_SCALE="scale",e.ACTION_SELECT="select",e.ACTION_TRANSFORM="transform",e.ATTRIBUTE_ACTION="action",e.CROPPER_CANVAS=c,e.CROPPER_CROSSHAIR=s,e.CROPPER_GIRD=E,e.CROPPER_HANDLE=u,e.CROPPER_IMAGE=a,e.CROPPER_SELECTION=T,e.CROPPER_SHADE=O,e.CROPPER_VIEWER=f,e.EVENT_ACTION="action",e.EVENT_ACTION_END="actionend",e.EVENT_ACTION_MOVE="actionmove",e.EVENT_ACTION_START="actionstart",e.EVENT_CHANGE="change",e.EVENT_ERROR="error",e.EVENT_KEYDOWN="keydown",e.EVENT_LOAD="load",e.EVENT_POINTER_DOWN=R,e.EVENT_POINTER_MOVE=l,e.EVENT_POINTER_UP=p,e.EVENT_RESIZE="resize",e.EVENT_TOUCH_END=N,e.EVENT_TOUCH_MOVE=_,e.EVENT_TOUCH_START=d,e.EVENT_TRANSFORM="transform",e.EVENT_WHEEL="wheel",e.HAS_POINTER_EVENT=r,e.IS_BROWSER=t,e.IS_TOUCH_DEVICE=o,e.NAMESPACE=i,e.WINDOW=n,e.emit=function(e,t,n,o){return e.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign(Object.assign({},w),{detail:n}),o)))},e.getAdjustedSizes=function(e,t=H){const{aspectRatio:n}=e;let{width:o,height:r}=e;const i=A(o),c=A(r);if(i&&c){const e=r*n;t===H&&e>o||"cover"===t&&e<o?r=o/n:o=r*n}else i?r=o/n:c&&(o=r*n);return{width:o,height:r}},e.getComposedPathTarget=function(e){if("function"==typeof e.composedPath){return e.composedPath().find(g)||e.target}return e.target},e.getOffset=function(e){const{documentElement:t}=e.ownerDocument,o=e.getBoundingClientRect();return{left:o.left+(n.pageXOffset-t.clientLeft),top:o.top+(n.pageYOffset-t.clientTop)}},e.getRootDocument=function(e){const t=e.getRootNode();switch(t.nodeType){case 1:return t.ownerDocument;case 9:case 11:return t}return null},e.isElement=g,e.isFunction=function(e){return"function"==typeof e},e.isNaN=C,e.isNumber=I,e.isObject=m,e.isPlainObject=function(e){if(!m(e))return!1;try{const{constructor:t}=e,{prototype:n}=t;return t&&n&&S.call(n,"isPrototypeOf")}catch(e){return!1}},e.isPositiveNumber=A,e.isString=function(e){return"string"==typeof e},e.isUndefined=function(e){return void 0===e},e.multiplyMatrices=function e(t,...n){if(0===n.length)return t;const[o,r,i,c,s,E]=t,[u,a,T,O,f,N]=n[0];return e(t=[o*u+i*a,r*u+c*a,o*T+i*O,r*T+c*O,o*f+i*N+s,r*f+c*N+E],...n.slice(1))},e.nextTick=function(e,t){return t?y.then(e?t.bind(e):t):y},e.off=function(e,t,n,o){t.trim().split(b).forEach((t=>{e.removeEventListener(t,n,o)}))},e.on=V,e.once=function(e,t,n,o){V(e,t,n,Object.assign(Object.assign({},o),{once:!0}))},e.toAngleInRadian=function(e){const t=parseFloat(e)||0;if(0!==t){const[n="rad"]=String(e).match(v)||[];switch(n.toLowerCase()){case"deg":return t/360*(2*Math.PI);case"grad":return t/400*(2*Math.PI);case"turn":return t*(2*Math.PI)}}return t},e.toCamelCase=function(e){return e.replace(P,(e=>e.slice(1).toUpperCase()))},e.toKebabCase=function(e){return String(e).replace(h,"$1-$2").toLowerCase()},Object.defineProperty(e,"__esModule",{value:!0})}));
